"use strict";(self.webpackChunkfilmnet=self.webpackChunkfilmnet||[]).push([[332],{307:function(e,n,r){r.d(n,{PO:function(){return u},jc:function(){return c},ni:function(){return d}});var t=r(4165),o=r(5861),i=r(2047),a=r.n(i);function c(e,n){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)((0,t.Z)().mark((function e(n,r){var o,i,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.email,i=n.password,(c=new(a().User)).set("username",o),c.set("email",o),!("iss"in n)){e.next=19;break}return e.prev=5,e.next=8,c.linkWith("google",{authData:{id:n.sub,id_token:r}});case 8:return e.abrupt("return",{code:200,message:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062b\u0628\u062a \u0646\u0627\u0645 \u0648 \u0648\u0627\u0631\u062f \u0634\u062f\u06cc\u062f"});case 11:if(e.prev=11,e.t0=e.catch(5),202!==e.t0.code){e.next=16;break}return localStorage.setItem("Parse/PCFt5CTwZhu8qWl0mXGAAoHqL3I5R53iefKu7ZKr/currentUser",JSON.stringify({username:o,email:o,emailVerified:!0,ACL:{"*":{read:!0},Wk1i7R3EEe:{read:!0,write:!0}},objectId:"Wk1i7R3EEe",className:"_User"})),e.abrupt("return",{code:200,message:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0648\u0627\u0631\u062f \u0634\u062f\u06cc\u062f"});case 16:return e.abrupt("return",{code:205,message:"\u062a\u0644\u0627\u0634 \u0646\u0627\u0645\u0648\u0641\u0642 \u0628\u0648\u062f \u0644\u0637\u0641\u0627\u0652 \u0627\u0632 \u0631\u0648\u0634 \u062f\u06cc\u06af\u0631\u06cc \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u062f"});case 17:e.next=46;break;case 19:return e.prev=19,e.next=22,c.signUp();case 22:return e.next=24,a().User.logOut();case 24:return e.abrupt("return",{code:205,message:"\u0628\u0631\u0627\u06cc \u062a\u06a9\u0645\u06cc\u0644 \u062b\u0628\u062a \u0646\u0627\u0645 \u0627\u06cc\u0645\u06cc\u0644 \u062e\u0648\u062f \u0631\u0627 \u062a\u0627\u06cc\u06cc\u062f \u06a9\u0646\u06cc\u062f"});case 27:return e.prev=27,e.t1=e.catch(19),e.prev=29,e.next=32,a().User.logIn(o,i);case 32:return e.abrupt("return",{code:200,message:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0648\u0627\u0631\u062f \u0634\u062f\u06cc\u062f"});case 35:if(e.prev=35,e.t2=e.catch(29),101!==e.t2.code&&202!==e.t2.code){e.next=41;break}return e.abrupt("return",{code:101,message:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u06cc\u0627 \u06af\u0630\u0631\u0648\u0627\u0698\u0647 \u0646\u0627\u0645\u0639\u062a\u0628\u0631 \u0627\u0633\u062a"});case 41:if(205!==e.t2.code){e.next=45;break}return e.abrupt("return",{code:205,message:"\u0644\u0637\u0641\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u062e\u0648\u062f \u0631\u0627 \u062a\u0627\u06cc\u06cc\u062f \u06a9\u0646\u06cc\u062f"});case 45:return e.abrupt("return",{message:e.t2.message});case 46:case"end":return e.stop()}}),e,null,[[5,11],[19,27],[29,35]])})))).apply(this,arguments)}function u(){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().User.currentAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a().User.logOut();case 3:return e.abrupt("return",{code:200,message:"\u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062e\u0627\u0631\u062c \u0634\u062f\u06cc\u062f"});case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{code:205,message:"\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 \u0627\u0633\u062a"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}a().initialize("PCFt5CTwZhu8qWl0mXGAAoHqL3I5R53iefKu7ZKr","J594GmROMXF0u83jr1Wy11tSitNWNcfT5nv12HNp"),a().serverURL="https://parseapi.back4app.com/"},5332:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var t=r(4165),o=r(5861),i=r(4942),a=r(1413),c=r(9439),s=r(2791),u=r(307),l=r(8062),d=r(7689),p=r(4925),f=["onSuccess","onError","useOneTap","promptMomentNotification","type","theme","size","text","shape","logo_alignment","width","locale","click_listener","containerProps"];var m=(0,s.createContext)(null);function v(e){var n=e.clientId,r=e.nonce,t=e.onScriptLoadSuccess,o=e.onScriptLoadError,i=e.children,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.nonce,r=e.onScriptLoadSuccess,t=e.onScriptLoadError,o=(0,s.useState)(!1),i=(0,c.Z)(o,2),a=i[0],u=i[1],l=(0,s.useRef)(r);l.current=r;var d=(0,s.useRef)(t);return d.current=t,(0,s.useEffect)((function(){var e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=n,e.onload=function(){var e;u(!0),null===(e=l.current)||void 0===e||e.call(l)},e.onerror=function(){var e;u(!1),null===(e=d.current)||void 0===e||e.call(d)},document.body.appendChild(e),function(){document.body.removeChild(e)}}),[n]),a}({nonce:r,onScriptLoadSuccess:t,onScriptLoadError:o}),u=(0,s.useMemo)((function(){return{clientId:n,scriptLoadedSuccessfully:a}}),[n,a]);return s.createElement(m.Provider,{value:u},i)}function g(){var e=(0,s.useContext)(m);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function h(e){var n;return null!==(n=null===e||void 0===e?void 0:e.clientId)&&void 0!==n?n:null===e||void 0===e?void 0:e.client_id}var w={large:40,medium:32,small:20};function b(e){var n=e.onSuccess,r=e.onError,t=e.useOneTap,o=e.promptMomentNotification,i=e.type,c=void 0===i?"standard":i,u=e.theme,l=void 0===u?"outline":u,d=e.size,m=void 0===d?"large":d,v=e.text,b=e.shape,x=e.logo_alignment,y=e.width,k=e.locale,Z=e.click_listener,j=e.containerProps,S=(0,p.Z)(e,f),C=(0,s.useRef)(null),E=g(),N=E.clientId,I=E.scriptLoadedSuccessfully,R=(0,s.useRef)(n);R.current=n;var _=(0,s.useRef)(r);_.current=r;var A=(0,s.useRef)(o);return A.current=o,(0,s.useEffect)((function(){var e,n,r,o,i,s,u,d,p;if(I)return null===(r=null===(n=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===n?void 0:n.id)||void 0===r||r.initialize((0,a.Z)({client_id:N,callback:function(e){var n;if(!(null===e||void 0===e?void 0:e.credential))return null===(n=_.current)||void 0===n?void 0:n.call(_);var r=e.credential,t=e.select_by;R.current({credential:r,clientId:h(e),select_by:t})}},S)),null===(s=null===(i=null===(o=null===window||void 0===window?void 0:window.google)||void 0===o?void 0:o.accounts)||void 0===i?void 0:i.id)||void 0===s||s.renderButton(C.current,{type:c,theme:l,size:m,text:v,shape:b,logo_alignment:x,width:y,locale:k,click_listener:Z}),t&&(null===(p=null===(d=null===(u=null===window||void 0===window?void 0:window.google)||void 0===u?void 0:u.accounts)||void 0===d?void 0:d.id)||void 0===p||p.prompt(A.current)),function(){var e,n,r;t&&(null===(r=null===(n=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===n?void 0:n.id)||void 0===r||r.cancel())}}),[N,I,t,c,l,m,v,b,x,y,k]),s.createElement("div",(0,a.Z)((0,a.Z)({},j),{},{ref:C,style:(0,a.Z)({height:w[m]},null===j||void 0===j?void 0:j.style)}))}function x(e){this.message=e}x.prototype=new Error,x.prototype.name="InvalidCharacterError";var y="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new x("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,t,o=0,i=0,a="";t=n.charAt(i++);~t&&(r=o%4?64*r+t:t,o++%4)?a+=String.fromCharCode(255&r>>(-2*o&6)):0)t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t);return a};function k(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(y(e).replace(/(.)/g,(function(e,n){var r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(n)}catch(e){return y(n)}}function Z(e){this.message=e}Z.prototype=new Error,Z.prototype.name="InvalidTokenError";var j=function(e,n){if("string"!=typeof e)throw new Z("Invalid token specified");var r=!0===(n=n||{}).header?0:1;try{return JSON.parse(k(e.split(".")[r]))}catch(e){throw new Z("Invalid token specified: "+e.message)}},S=r(9085),C=r(184);function E(){var e,n=(0,d.s0)(),r=(0,s.useState)({email:"",password:""}),p=(0,c.Z)(r,2),f=p[0],m=p[1],g=(0,s.useState)(!1),h=(0,c.Z)(g,2),w=h[0],x=h[1],y=(0,s.useState)({email:"",password:""}),k=(0,c.Z)(y,2),Z=k[0],E=k[1],N=(0,s.useState)({}),I=(0,c.Z)(N,2),R=I[0],_=I[1];function A(e){var n=e.target,r=n.type,t=n.value;m((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,i.Z)({},r,t))}))}function L(e){"success"===e?n("/"):x(!w)}function O(){return U.apply(this,arguments)}function U(){return U=(0,o.Z)((0,t.Z)().mark((function e(){var n,r,o,i,c=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>0&&void 0!==c[0]?c[0]:{},r=c.length>1&&void 0!==c[1]?c[1]:"",o=Object.keys(n).length>1?n:f,!/^[a-zA-Z0-9]+[a-zA-Z0-9._]*@(outlook|hotmail|live|msn|gmail)\.(com|co\.uk)$/.test(o.email)||"password"in o&&!(o.password>=3)){e.next=12;break}return L(),e.next=8,(0,u.jc)(o,r);case 8:i=e.sent,_(i),e.next=13;break;case 12:E((0,a.Z)({email:"\u0644\u0637\u0641\u0627 \u0627\u06cc\u0645\u06cc\u0644\u06cc \u0645\u0639\u062a\u0628\u0631 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"},"password"in o?o.password>=3?{password:""}:{password:"\u06af\u0630\u0631\u0648\u0627\u0698\u0647 \u0628\u0627\u06cc\u062f \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 3 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f"}:{password:""}));case 13:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}return(0,C.jsxs)("div",{className:"flex justify-center flex-col h-screen items-center mx-auto overflow-hidden relative",style:{backgroundImage:"url('./images/backgroun_login.jpg')",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:[(0,C.jsx)("img",{src:"./images/logo.svg",alt:"poster",className:"absolute top-20 w-40 cursor-pointer",onClick:function(){n("/")}}),(0,C.jsxs)("form",{style:{boxShadow:"0px 0px 13px 3px black"},className:"md:w-1/4 w-11/12 p-4 backdrop-blur-xl rounded-xl max-h-80",children:[(0,C.jsxs)("div",{className:w?"block text-center ":"hidden",children:[(0,C.jsx)(l.J5,{autoplay:!0,loop:!0,src:"code"in R&&205===R.code?"./animation/sendemail.json":200===R.code?"./animation/login.json":101===R.code?"./animation/notfound.json":"./animation/loading.json",style:{height:"200px",width:"200px"}}),(0,C.jsx)("p",{children:null!==(e=R.message)&&void 0!==e?e:""}),(0,C.jsx)("input",{type:"button",className:"rounded-md p-2 opacity-0 my-2 cursor-pointer w-full transition-opacity duration-300 "+("code"in R&&(200===R.code?"bg-green-600 opacity-100":"bg-orange-400  opacity-100")),value:200===R.code?"\u0648\u0631\u0648\u062f \u0628\u0647 \u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc":"\u0686\u06cc\u0632\u06cc \u0631\u0627 \u0627\u0634\u062a\u0628\u0627\u0647 \u0648\u0627\u0631\u062f \u06a9\u0631\u062f\u06cc\u062f \u061f",onClick:function(){200===R.code?L("success"):L()}})]}),(0,C.jsxs)("div",{className:w?"hidden":"block",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block mb-2",children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc (\u0627\u06cc\u0645\u06cc\u0644)"}),(0,C.jsx)("input",{className:"border rounded-md bg-transparent p-2 w-full "+(Z.email.length>0?"border-red-600 ":"border-sky-500 focus:ring-sky-600"),type:"email",onFocus:function(){E((function(e){return(0,a.Z)((0,a.Z)({},e),{},{email:""})}))},onChange:A}),(0,C.jsx)("p",{className:Z.email.length>0?"text-red-500 text-sm font-bold mt-1 block":"hidden",children:Z.email})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"block my-2",children:"\u06af\u0630\u0631\u0648\u0627\u0698\u0647"}),(0,C.jsx)("input",{className:"border rounded-md bg-transparent p-2 w-full "+(Z.password.length>0?"border-red-600 ":"border-sky-500 focus:ring-sky-600"),type:"password",onFocus:function(){E((function(e){return(0,a.Z)((0,a.Z)({},e),{},{password:""})}))},onChange:A}),(0,C.jsx)("p",{className:Z.password.length>0?"text-red-500 text-sm font-bold mt-1 block":"hidden",children:Z.password})]}),(0,C.jsx)("input",{type:"button",className:"bg-teal-500 rounded-md p-2  my-2 cursor-pointer w-full",value:"\u0648\u0631\u0648\u062f / \u062b\u0628\u062a \u0646\u0627\u0645",onClick:function(){O()},onKeyDown:function(e){"Enter"===e.key&&O()}}),(0,C.jsx)(v,{clientId:"166052930912-1efj39514fjq6jg1mp0hsi9kfitgndi9.apps.googleusercontent.com",children:(0,C.jsx)(b,{onSuccess:function(e){O(j(e.credential),e.credential)},onError:function(){S.Am.warn("\u062e\u0637\u0627\u06cc\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 \u0627\u0633\u062a")}})})]})]})]})}}}]);
//# sourceMappingURL=332.a56dad0c.chunk.js.map